!function(t,e){function c(){t("#oc_ht_spinner").addClass("is_active").show(),t("#oc_ht_message").html(""),t("#oc_ht_text_button").attr("disabled","disabled");var e=t("#oc_ht_textarea").val(),c=[],o="";t("#oc-manual-edit").prop("checked")?o=btoa(e):t.each(t(".oc_file_extensions:checked"),function(e,o){c.push(t(o).val())}),t.post(ajaxurl,{action:"oc_save_ht",_ajax_nonce:oc_constants.nonce,content:o,manual_edit:t("#oc-manual-edit").prop("checked"),extensions:c,file_string:t("#oc-file-string").val(),original_file_content:t("#oc-original-content").val()},function(e){-1==e?t("#oc_ht_message").html(oc_constants.nonce_error):(t("#oc-original-content").val(e.new_file_content),t("#oc_ht_textarea").val(atob(e.new_file_content)),t("#oc_ht_message").html(e.message))}).fail(function(){t("#oc_ht_message").html(oc_constants.nonce_error)}).always(function(){t("#oc_ht_spinner").removeClass("is_active").addClass("success").hide().removeClass("success"),t("#oc_ht_text_button").removeAttr("disabled")})}function o(){t("#oc-manual-edit").prop("checked")?(t("#oc-ht-checkbox-wrap").slideUp(function(){t("#oc-ht-wrap").css("visibility","hidden"),t("#oc-ht-wrap").slideDown(function(){t("#oc-ht-wrap").css("visibility","visible")})}),window.localStorage.setItem("oc_manual_edit","1"),t("#oc-ht-reset").slideDown()):(t("#oc-ht-wrap").slideUp(function(){t("#oc-ht-checkbox-wrap").slideDown()}),window.localStorage.setItem("oc_manual_edit","0"),t("#oc-ht-reset").slideUp())}function n(){jQuery("#ocsh-err-reporting").slideDown("slow");var t={action:"ocsh_check_php_updates"};jQuery.post(ajaxurl,t,function(t){y("#ocsh-updates",t),s()})}function s(){var t={action:"ocsh_check_plugin_updates"};jQuery.post(ajaxurl,t,function(t){y("#ocsh-plugin-updates",t),a()})}function a(){var t={action:"ocsh_check_theme_updates"};jQuery.post(ajaxurl,t,function(t){y("#ocsh-theme-updates",t),i()})}function i(){var t={action:"ocsh_check_wp_updates"};jQuery.post(ajaxurl,t,function(t){y("#ocsh-wp-updates",t),r()})}function r(){var t={action:"ocsh_wp_connection"};jQuery.post(ajaxurl,t,function(t){y("#ocsh-wp-org-comm",t),u()})}function u(){var t={action:"ocsh_check_core_updates"};jQuery.post(ajaxurl,t,function(t){y("#ocsh-core-updates",t),l()})}function l(){var t={action:"ocsh_check_ssl"};jQuery.post(ajaxurl,t,function(t){y("#ocsh-ssl",t),h()})}function h(){var t={action:"ocsh_check_file_execution"};jQuery.post(ajaxurl,t,function(t){y("#ocsh-file-execution",t),_()})}function _(){var t={action:"ocsh_check_file_permissions"};jQuery.post(ajaxurl,t,function(t){y("#ocsh-file-permissions",t),d()})}function d(){var t={action:"ocsh_DB"};jQuery.post(ajaxurl,t,function(t){y("#ocsh-db",t),p()})}function p(){jQuery.post(ajaxurl,{action:"ocsh_check_file_edit"},function(t){y("#ocsh-file-edit",t),f()})}function f(){jQuery.post(ajaxurl,{action:"ocsh_check_usernames"},function(t){y("#ocsh-usernames",t),j()})}function j(){jQuery.post(ajaxurl,{action:"ocsh_check_dis_plugin"},function(t){y("#ocsh-discouraged-plugins",t),m()})}function y(t,e){var c=e.desc,o=c;jQuery(t).find(".osch-desc").html(o);var n=jQuery(t).clone();e.status===oc_constants.OC_RESOLVED?(jQuery(n).find("span").addClass("ocsh-success"),jQuery(n).appendTo("#ocsh-all-ok").slideDown("slow"),jQuery(n).find("h4.ocsh-scan-title").html(c),jQuery(n).find(".osch-desc").remove(),jQuery(n).addClass("resolved")):(jQuery(n).find("span").addClass("ocsh-error"),jQuery(n).clone().appendTo("#ocsh-needs-attention").slideDown("slow")),jQuery("#ocsh-needs-attention li").length>0&&jQuery("#ocsh-all-ok li").length>0&&jQuery(".ocsh-separator").removeClass("hidden")}function m(){var t=parseInt(jQuery("#ocsh-all-ok li").length),e=parseInt(jQuery("#ocsh-needs-attention li").length),c=(100*t/(t+e)).toFixed(2);"100.00"==c&&(c=100),Q(c)}function Q(t){var e="#4ab865";t<85&&t>=50?e="#ffb900":t<50&&(e="#dc3232");var c='<i style="color:'+e+'">'+Number(t).toFixed(0)+"%</i> ";jQuery.post(ajaxurl,{action:"ocsh_save_result",osch_Result:t},function(t){var e=jQuery("#ocsh-site-security").text();jQuery("#ocsh-site-security").html(e+" - "+c+'<a class="button" href="'+oc_constants.ocsh_page_url+'">'+oc_constants.ocsh_scan_btn+"</a>")})}jQuery(document).ready(function(){n(),jQuery(document).on("click",".ocsh-scan-result li",function(t){("ocsh-scan-title"==jQuery(t.target).attr("class")||"ocsh-error"==jQuery(t.target).attr("class")||"osch-desc"!=jQuery(t.target).parent().attr("class")&&"ocsh-bullet"!=jQuery(t.target).parent().attr("class"))&&jQuery(this).find(".osch-desc").toggleClass("hidden")}),t("#oc_ht_text_button").click(function(){c()}),t("#oc-manual-edit").click(function(){o()}),t(".oc_file_extensions").click(function(){t(this).parent().toggleClass("checked")}),1==window.localStorage.getItem("oc_manual_edit")&&(t("#oc-manual-edit").trigger("click"),t("#oc-manual-edit").prop("checked",!0)),t("#oc-ht-reset").click(function(){var e=atob(oc_constants.resetHtaccess);t("#oc_ht_textarea").val(e),t("#oc_ht_text_button").trigger("click")})})}(jQuery,wp);